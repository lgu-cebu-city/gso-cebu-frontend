<mat-card class="printForm">
  <app-print-header [formName]="'POST-REPAIR INSPECTION'"></app-print-header>
  <div fxLayout="columns wrap">
    <div fxFlex="grow" fxLayoutAlign="end" class="addMarginTop8px">
      <div fxFlex="grow">
        <div fxLayout="row" class="addMarginTop16px">
          <div fxFlex="45">
            <div fxFlex="50">
              Equipment Type :
            </div>
            <div fxFlex="50">
              {{ priData.vehicleType }}
            </div>
          </div>
          <div fxFlex="55">
            <div fxFlex="40">
              Transaction No. :
            </div>
            <div fxFlex="60">
              {{ priData.transactionNo }}
            </div>
          </div>
        </div>
        <div fxLayout="row">
          <div fxFlex="45">
            <div fxFlex="50">
              Equipment Name :
            </div>
            <div fxFlex="50">
              {{ priData.vehicleName }}
            </div>
          </div>
          <div fxFlex="55">
            <div fxFlex="40">
              Transaction Date :
            </div>
            <div fxFlex="60">
              {{ formatDate(priData.transactionDate) }}
            </div>
          </div>
        </div>
        <div fxLayout="row">
          <div fxFlex="45">
            <div fxFlex="50">
              Plate No. :
            </div>
            <div fxFlex="50">
              {{ priData.plateNo }}
            </div>
          </div>
          <div fxFlex="55">
            <div fxFlex="40">
              Model :
            </div>
            <div fxFlex="60">
              {{ priData.brandModel }}
            </div>
          </div>
        </div>
        <div fxLayout="row">
          <div fxFlex="45">
            <div fxFlex="50">
              Assigned to :
            </div>
            <div fxFlex="50">
              {{ priData.departmentName }}
            </div>
          </div>
          <div fxFlex="55">
            <div fxFlex="40">
              Division :
            </div>
            <div fxFlex="60">
              {{ priData.divisionName }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div fxFlex="grow" fxLayoutAlign="end" class="addMarginTop16px">
      <div fxFlex="grow" class="tableContainer">
        <table mat-table [dataSource]="priData.items">
          <ng-container matColumnDef="jobDesc">
            <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Job Description</th>
          </ng-container>
          <ng-container matColumnDef="jobDescription">
            <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> Job Description </th>
            <td mat-cell *matCellDef="let element; let i = index" align="left" [attr.rowspan]="priData.items.length" [ngStyle]="i > 0 ? {'display': 'none'} : {'display': 'table-cell', 'vertical-align': 'top', 'padding-top': '10px'}"> {{ priData.jobDescription }} </td>
          </ng-container>

          <ng-container matColumnDef="partsSupplied">
            <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">Parts Supplied</th>
          </ng-container>
        
          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef> Quantity </th>
            <td mat-cell *matCellDef="let element" align="right"> {{ element.quantity }} </td>
          </ng-container>
        
          <ng-container matColumnDef="unitMeasure">
            <th mat-header-cell *matHeaderCellDef> Unit </th>
            <td mat-cell *matCellDef="let element" align="left"> {{ element.uom }} </td>
          </ng-container>
        
          <ng-container matColumnDef="desc">
            <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Description</th>
          </ng-container>
          
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> Description </th>
            <td mat-cell *matCellDef="let element" align="left"> {{ element.description }} </td>
          </ng-container>
        
          <ng-container matColumnDef="uCost">
            <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2"> Unit Cost </th>
          </ng-container>
        
          <ng-container matColumnDef="unitCost">
            <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> Unit Cost </th>
            <td mat-cell *matCellDef="let element" align="right"> {{ numberFormat.format(element.cost) }} </td>
          </ng-container>
        
          <ng-container matColumnDef="tCost">
            <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2"> Total Cost </th>
          </ng-container>
        
          <ng-container matColumnDef="totalCost">
            <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> Total Cost </th>
            <td mat-cell *matCellDef="let element" align="right"> {{ numberFormat.format(element.total) }} </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="['jobDesc', 'partsSupplied', 'desc', 'uCost', 'tCost']"></tr>
          <tr mat-header-row *matHeaderRowDef="itemDisplayedColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: itemDisplayedColumns;"></tr>
        </table>
      </div>
    </div>
    <div fxFlex="grow" class="addMarginTop16px">
      Pre-inspected by:
    </div>
    <div fxFlex="grow" class="addMarginTop32px">
      <div fxFlex="35" fxLayoutAlign="center">
        <div fxLayoutAlign="center" class="withUnderline b">
          {{ priData.signatory1Name }}
        </div>
      </div>
      <div fxFlex="50" fxLayoutAlign="center">
      </div>
    </div>
    <div fxFlex="grow">
      <div fxFlex="35" fxLayoutAlign="center">
        <div fxLayoutAlign="center">
          Engineer III
        </div>
      </div>
      <div fxFlex="50" fxLayoutAlign="center">
      </div>
    </div>
    <div fxFlex="grow" class="addMarginTop32px">
      <div fxFlex="35" fxLayoutAlign="center">
        <div fxLayoutAlign="center" class="withUnderline b">
          {{ priData.signatory2Name }}
        </div>
      </div>
      <div fxFlex="50" fxLayoutAlign="center">
      </div>
    </div>
    <div fxFlex="grow">
      <div fxFlex="35" fxLayoutAlign="center">
        <div fxLayoutAlign="center">
          Inspectorate Team of Repair
        </div>
      </div>
      <div fxFlex="50" fxLayoutAlign="center">
      </div>
    </div>
    <div fxFlex="grow" fxLayoutAlign="end" class="addMarginTop32px">
      <div fxFlex="45" fxLayout="columns wrap">
        <div fxFlex="grow">
          Accepted by:
        </div>
        <div fxFlex="grow" fxLayoutAlign="center" class="addMarginTop32px">
          <div fxFlex="60" fxLayoutAlign="center" class="withUnderline b">
            {{ priData.acceptedByName }}
          </div>
        </div>
        <div fxFlex="grow" fxLayoutAlign="center">
          General Services Officer
        </div>
      </div>
    </div>
  </div>
</mat-card>